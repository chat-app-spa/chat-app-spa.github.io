(this.webpackJsonpname=this.webpackJsonpname||[]).push([[0],{124:function(e,t){},160:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(6),c=n.n(r),s=n(92),i=n(24),u=n(74),l=n.n(u),m=n(163),p=n(9),f=n.n(p);var d=function(e){var t=e.visible,n=e.user,a=e.modalRef,r=e.inputRef,c=(e.socket,e.setUser),s=e.setVisible;return o.a.createElement(m.a,{title:"Please type your name",visible:t,style:{zIndex:99999999999999},maskClosable:!1,closable:!1,footer:null},o.a.createElement("div",{className:"d-flex flex-column align-items-center"},o.a.createElement("input",{className:f.a.modalInput,type:"text",value:n,onChange:function(e){return c(e.target.value)},placeholder:"Name",ref:a,onKeyDown:function(e){"Enter"===e.key&&n.length>0&&(s(!1),r.current.focus())}}),o.a.createElement("button",{className:"".concat(f.a.modalBtn," mt-3"),onClick:function(){s(!1),r.current.focus()},disabled:n.length<1},"Join Chat")))};var g=function(e){var t=e.input,n=e.inputRef,a=e.socket,r=e.setInput,c=e.user;return o.a.createElement("div",{className:f.a.input},o.a.createElement("input",{ref:n,style:{width:"80%"},type:"text",className:f.a.inputMsg,value:t,onKeyDown:function(e){"Enter"===e.key&&t.length>0&&(a.emit("msg",{user:c,msg:t}),r(""),n.current.focus())},onChange:function(e){return r(e.target.value)}}),o.a.createElement("button",{className:f.a.inputBtn,style:{width:"20%"},disabled:t.length<1,onClick:function(){a.emit("msg",{user:c,msg:t}),r(""),n.current.focus()}},"Send"))};var h=function(e){var t=e.msg,n=e.user;return o.a.createElement("div",{style:{paddingBottom:"3.7em"}},t.map((function(e,t){return o.a.createElement("div",{className:f.a.messages,key:t},o.a.createElement("p",{className:"".concat(e.user===n?"".concat(f.a.user," ml-auto"):"".concat(f.a.other," mr-auto"))},e.user),o.a.createElement("h5",{className:"".concat(e.user===n?"".concat(f.a.userMsg," ml-auto"):"".concat(f.a.otherMsg," mr-auto"))},e.msg))})))};var v=function(){var e=l()("https://chat-public-app.herokuapp.com/"),t=Object(a.useState)([]),n=Object(i.a)(t,2),r=n[0],c=n[1],u=Object(a.useState)(""),m=Object(i.a)(u,2),p=m[0],f=m[1],v=Object(a.useState)(""),b=Object(i.a)(v,2),w=b[0],_=b[1],E=Object(a.useState)(!0),k=Object(i.a)(E,2),y=k[0],A=k[1],j=Object(a.createRef)(),N=Object(a.createRef)();return Object(a.useEffect)((function(){return N.current.focus(),e.on("msgToGroup",(function(e){c((function(t){return[].concat(Object(s.a)(t),[{user:e.user,msg:e.msg}])})),window.scrollTo(0,document.body.scrollHeight)})),function(){e.disconnect()}}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(d,{inputRef:j,modalRef:N,visible:y,socket:e,setUser:f,user:p,setVisible:A}),o.a.createElement(h,{msg:r,user:p}),o.a.createElement(g,{input:w,inputRef:j,socket:e,setInput:_,user:p}))},b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(158),n(159),n(160);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");b?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):w(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):w(t,e)}))}}()},9:function(e,t,n){e.exports={messages:"App_messages__2qXdw",user:"App_user__27DXa",userMsg:"App_userMsg__2BLwL",other:"App_other__Ad2A2",otherMsg:"App_otherMsg__2PWA1",input:"App_input__uNqHM",inputMsg:"App_inputMsg__2dVm_",inputBtn:"App_inputBtn__1zzcf",modalInput:"App_modalInput__1QYT0",modalBtn:"App_modalBtn__24Ytd"}},94:function(e,t,n){e.exports=n(161)}},[[94,1,2]]]);
//# sourceMappingURL=main.da1f6820.chunk.js.map